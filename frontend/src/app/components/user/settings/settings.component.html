<div class="pt-5">
  <div class="row">
    <div class="col-md-6 mx-auto">
      <span class="anchor" id="formRegistration"></span>
      <div>
        <form class="form" [formGroup]="registrationForm">
          <div class="row">
            <div class="form-group col">
              <label for="inputFirstName">First name</label>
              <input type="text" name="firstName" formControlName="firstName" class="form-control" id="inputFirstName"
                     aria-describedby="firstNameHelp" placeholder="First name">
              <div *ngIf="submitted && registrationForm.controls.firstName.errors" class="error">
                <small class="form-text text-warning" *ngIf="registrationForm.controls.firstName.errors.required">
                  Your first name is required!
                </small>
              </div>
            </div>
            <div class="form-group col">
              <label for="inputLastName">Last name</label>
              <input type="text" name="lastName" formControlName="lastName" class="form-control" id="inputLastName"
                     aria-describedby="lastNameHelp" placeholder="Last name">
              <div *ngIf="submitted && registrationForm.controls.lastName.errors" class="error">
                <small class="form-text text-warning" *ngIf="registrationForm.controls.lastName.errors.required">
                  Your last name is required!
                </small>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="form-group">
                <label for="inputEmail">Email address</label>
                <input type="text" name="email" formControlName="email" class="form-control" id="inputEmail"
                       aria-describedby="emailHelp" placeholder="Email address">
                <div *ngIf="submitted && registrationForm.controls.email.errors" class="error">
                  <small class="form-text text-warning" *ngIf="registrationForm.controls.email.errors.required">
                    Your email is required!
                  </small>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="form-group">
                <label for="inputPassword">Password</label>
                <input type="password" name="password" formControlName="password" class="form-control"
                       id="inputPassword" placeholder="Password">
                <div *ngIf="submitted && registrationForm.controls.password.errors" class="error">
                  <small class="form-text text-warning" *ngIf="registrationForm.controls.password.errors.required">
                    Your password is required!
                  </small>
                  <small class="form-text text-warning" *ngIf="registrationForm.controls.password.errors.minlength">
                    Your password must be at least 8 characters long!
                  </small>
                </div>
              </div>
            </div>
          </div>
          <div class="col d-flex justify-content-end my-3">
            <div class="d-flex justify-content-evenly">
              <button *ngIf="!editMode" type="button" (click)="setEditMode()" class="btn btn-secondary">Edit</button>
              <button *ngIf="editMode" type="button" (click)="updateUserData()" class="btn btn-secondary me-2">Save</button>
              <button *ngIf="editMode" type="button" (click)="setViewMode()" class="btn btn-outline-danger">Cancel</button>
            </div>
          </div>
        </form>
      </div>


    </div>
  </div>

  <div class="d-flex justify-content-center pt-5">
    <button type="button" data-bs-toggle="modal" [attr.data-bs-target]="'#'+'delete-user'"
            class="btn btn-outline-danger">Delete Account</button>
  </div>


  <div class="modal fade" [id]="'delete-user'" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Are you sure you want to delete your account?</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Your account and all your personal data will be removed forever. All tickets purchased by you will be refunded
          to you and all your reservation will be canceled. Do you want to continue?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" (click)="deleteUser()" data-bs-dismiss="modal" class="btn btn-danger">Continue</button>
        </div>
      </div>
    </div>
  </div>
</div>
